CREATE TABLE member ( mem_num bigint NOT NULL, mem_id varchar(50) NOT NULL, mem_pw varchar(100) NOT NULL, mem_name varchar(50) NOT NULL, mem_nickname varchar(50) NOT NULL, mem_eamil varchar(50) DEFAULT NULL, mem_contact varchar(15) DEFAULT NULL, mem_regdate datetime DEFAULT NULL, PRIMARY KEY (mem_num) );

CREATE TABLE movie ( mov_num bigint NOT NULL, mov_title varchar(100) NOT NULL, mov_director varchar(50) DEFAULT NULL, mov_genre varchar(50) DEFAULT NULL, mov_synopsis varchar(2000) DEFAULT NULL, mov_release date DEFAULT NULL, mov_runtime time DEFAULT NULL, mov_regdate datetime DEFAULT NULL, mov_img varchar(255) DEFAULT NULL, mov_thumb varchar(255) DEFAULT NULL, PRIMARY KEY (mov_num) );

CREATE TABLE movie_score ( mov_sco_num bigint NOT NULL, mov_sco_point int NOT NULL, mov_num bigint NOT NULL, mov_rev_num bigint NOT NULL, PRIMARY KEY (mov_sco_num), KEY which_mov_idx (mov_num), KEY whic_rev_idx (mov_rev_num), CONSTRAINT whic_rev FOREIGN KEY (mov_rev_num) REFERENCES movie_review (mov_rev_num), CONSTRAINT which_mov FOREIGN KEY (mov_num) REFERENCES movie (mov_num));

CREATE TABLE movie_review ( mov_rev_num bigint NOT NULL, mov_rev_title varchar(100) NOT NULL, mov_rev_content varchar(2000) DEFAULT NULL, mov_rev_regdate datetime DEFAULT NULL, mov_rev_good int DEFAULT NULL, mov_rev_bad int DEFAULT NULL, mov_num bigint NOT NULL, mem_num bigint NOT NULL, PRIMARY KEY (mov_rev_num), KEY which_mov_num (mov_num), KEY who_rev_num (mem_num), CONSTRAINT which_movi FOREIGN KEY (mov_num) REFERENCES movie (mov_num), CONSTRAINT who_rev FOREIGN KEY (mem_num) REFERENCES member (mem_num) ) ;

CREATE TABLE movie_review_choice (mov_rev_cho_num bigint NOT NULL, mov_rev_num bigint NOT NULL, mem_num bigint NOT NULL, PRIMARY KEY (mov_rev_cho_num), KEY who_rev_cho_idx (mem_num), KEY which_rev_idx (mov_rev_num), CONSTRAINT which_rev FOREIGN KEY (mov_rev_num) REFERENCES movie_review (mov_rev_num), CONSTRAINT who_rev_cho FOREIGN KEY (mem_num) REFERENCES member (mem_num)) ;

CREATE TABLE movie_review_comment ( mov_rev_com_num bigint NOT NULL, mov_rev_com_content varchar(1000) NOT NULL, mov_rev_com_regdate datetime DEFAULT NULL, mov_rev_com_good int DEFAULT NULL, mov_rev_com_bad int DEFAULT NULL, mem_num bigint NOT NULL, mov_rev_num bigint NOT NULL, PRIMARY KEY (mov_rev_com_num), KEY who_rev_com_num (mem_num), KEY which_rev_num (mov_rev_num), CONSTRAINT which_rev_num FOREIGN KEY (mov_rev_num) REFERENCES movie_review (mov_rev_num), CONSTRAINT who_rev_com FOREIGN KEY (mem_num) REFERENCES member (mem_num) ) ;

CREATE TABLE movie_review_comment_choice ( mov_rev_com_cho_num bigint NOT NULL, mov_rev_com_num bigint NOT NULL, mem_num bigint NOT NULL, PRIMARY KEY (mov_rev_com_cho_num), KEY mov_rev_com_num_idx (mov_rev_com_num), KEY who_com_idx (mem_num), CONSTRAINT mov_rev_com_num FOREIGN KEY (mov_rev_com_num) REFERENCES movie_review_comment (mov_rev_com_num), CONSTRAINT who_com FOREIGN KEY (mem_num) REFERENCES member (mem_num)) ;

CREATE TABLE actor ( act_num bigint NOT NULL, act_name varchar(50) NOT NULL, act_birth date DEFAULT NULL, act_sex varchar(10) DEFAULT NULL, act_info varchar(2000) DEFAULT NULL, act_regdate datetime DEFAULT NULL, act_img varchar(255) DEFAULT NULL, act_thumb varchar(255) DEFAULT NULL, mov_num bigint NOT NULL, PRIMARY KEY (act_num), KEY which_movi_idx (mov_num), CONSTRAINT which_movie FOREIGN KEY (mov_num) REFERENCES movie (mov_num) ) ;

